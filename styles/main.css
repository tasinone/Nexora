/* Regular (400) - for most text */
@font-face {
  font-family: 'Poppins';
  font-style: normal;
  font-weight: 400;
  src: url('../assets/fonts/poppins-regular.woff2') format('woff2'),
        url('../assets/fonts/poppins-regular.woff') format('woff');
}

/* Bold (700) - for headings */
@font-face {
  font-family: 'Poppins';
  font-style: normal;
  font-weight: 700;
  src: url('../assets/fonts/poppins-bold.woff2') format('woff2'),
        url('../assets/fonts/poppins-bold.woff') format('woff');
}

body {
  font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
  font-weight: 400; 
}

/* Make body background transparent when background image exists */
body.has-background {
  background: transparent !important;
}

/* Search Container - Fixed height to 52px */
.search-container {
  height: 52px !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: 1px solid var(--color-base-300);
  background-color: transparent !important;
}

.search-container:focus-within {
  background-color: hsl(var(--b2) / 1) !important;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Bookmarks Container - Scrollable area without scrollbar */
.bookmarks-scrollable-area {
  width: 100%;
  max-width: 1200px;
  max-height: calc((var(--grid-rows, 4) * 96px) + (var(--grid-rows, 4) * 22px) + 20px);
  overflow-y: auto;
  overflow-x: hidden;
  /* Hide scrollbar for Chrome, Safari and Opera */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

.bookmarks-scrollable-area::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* Bookmarks Grid - Centered with dynamic columns and rows */
.bookmarks-grid {
  display: grid;
  grid-template-columns: repeat(var(--grid-columns, 5), 96px);
  grid-auto-rows: 96px; /* Each row is 96px tall */
  gap: 22px;
  justify-content: center;
  padding: 20px;
}

/* Bookmark Item Styles */
.bookmark-item {
  width: 96px;
  height: 96px;
  display: flex;
  flex-direction: column;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  padding: 5px;
  border: 2px solid transparent;
  border-radius: 8px;
}

.bookmark-item:hover {
  border-color: oklch(var(--p));
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  z-index: 10;
}

.bookmark-item:active {
  transform: scale(0.95);
}

.bookmark-item-clicked {
  animation: clickPulse 0.2s ease-out;
}

@keyframes clickPulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.95);
  }
  100% {
    transform: scale(1);
  }
}

.bookmark-icon-container {
  height: 80%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.bookmark-icon {
  width: 48px;
  height: 48px;
  object-fit: contain;
  border-radius: 5px;
}

.folder-icon {
  width: 48px;
  height: 48px;
  color: oklch(var(--bc));
}

.bookmark-title {
  height: 20%;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  text-align: center;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding: 0 4px;
  max-width: 100%;
}

/* Context Menu Animations */
#contextMenu {
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1), transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.context-menu-item {
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 6px;
  transition: all 0.2s ease;
  font-size: 14px;
}

.context-menu-item:hover {
  background-color: oklch(var(--b3));
  transform: translateX(4px);
}

/* Background with blur and brightness */
#bgContainer {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transition: filter 0.3s ease;
}

/* Semi-transparent glassmorphism overlay when background is set */
body.has-background .search-container {
  background: rgba(0, 0, 0, 0.6) !important;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

body.has-background .search-container input::placeholder,
body.has-background .search-container {
  color: white !important;
}

body.has-background .bookmark-item {
  background: rgba(0, 0, 0, 0.6) !important;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

body.has-background .bookmark-title,
body.has-background .folder-icon {
  color: white !important;
}

body.has-background #backButton button {
  background: rgba(0, 0, 0, 0.6) !important;
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white !important;
}

/* Modal Animations */
.modal {
  transition: opacity 0.3s ease;
}

.modal-box {
  max-width: 500px;
  animation: modalSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes modalSlideIn {
  0% {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.modal[open] .modal-box {
  animation: modalSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.modal:not([open]) .modal-box {
  animation: modalSlideOut 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes modalSlideOut {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }
}

/* Drawer Animations */
.drawer-side {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.drawer-toggle:checked ~ .drawer-side {
  transform: translateX(0);
}

.drawer-toggle:checked ~ .drawer-side > div:last-child {
  animation: drawerSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes drawerSlideIn {
  0% {
    transform: translateX(100%);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Back button animations */
#backButton {
  animation: fadeInDown 0.3s ease-out;
}

@keyframes fadeInDown {
  0% {
    opacity: 0;
    transform: translateY(-10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

#backButton button {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

#backButton button:hover {
  transform: translateX(-8px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

#backButton button:active {
  transform: translateX(-4px) scale(0.98);
}

/* Active tab styling */
.join-item.btn-active {
  background-color: oklch(var(--p));
  color: oklch(var(--pc));
  transition: all 0.3s ease;
}

.join-item {
  transition: all 0.3s ease;
}

/* Smooth theme transitions */
* {
  transition-property: background-color, border-color, color;
  transition-duration: 0.2s;
  transition-timing-function: ease;
}

/* Input focus animations */
input:focus,
select:focus,
textarea:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(var(--p), 0.2);
  transition: box-shadow 0.3s ease;
}

/* Button hover effects */
button {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

button:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

button:active {
  transform: translateY(0);
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
}

/* Toggle switch animation */
.toggle {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.toggle:checked {
  animation: toggleBounce 0.4s ease-out;
}

@keyframes toggleBounce {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

/* Range slider animations */
input[type="range"] {
  transition: all 0.2s ease;
}

input[type="range"]:hover {
  transform: scaleY(1.1);
}

/* File input animation */
.file-input {
  transition: all 0.3s ease;
}

.file-input:hover {
  border-color: oklch(var(--p));
}

/* Smooth page load animation */
body {
  animation: pageLoad 0.5s ease-out;
}

@keyframes pageLoad {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

/* Faster stagger animation for bookmark items */
.bookmark-item {
  animation: bookmarkFadeIn 0.15s ease-out backwards;
}

.bookmarks-grid .bookmark-item:nth-child(1) { animation-delay: 0.02s; }
.bookmarks-grid .bookmark-item:nth-child(2) { animation-delay: 0.04s; }
.bookmarks-grid .bookmark-item:nth-child(3) { animation-delay: 0.06s; }
.bookmarks-grid .bookmark-item:nth-child(4) { animation-delay: 0.08s; }
.bookmarks-grid .bookmark-item:nth-child(5) { animation-delay: 0.10s; }
.bookmarks-grid .bookmark-item:nth-child(6) { animation-delay: 0.12s; }
.bookmarks-grid .bookmark-item:nth-child(7) { animation-delay: 0.14s; }
.bookmarks-grid .bookmark-item:nth-child(8) { animation-delay: 0.16s; }
.bookmarks-grid .bookmark-item:nth-child(9) { animation-delay: 0.18s; }
.bookmarks-grid .bookmark-item:nth-child(10) { animation-delay: 0.20s; }

@keyframes bookmarkFadeIn {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}
